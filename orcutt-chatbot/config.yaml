aws:
  region: us-west-2
  account: ${CDK_DEFAULT_ACCOUNT}

stack:
  name: OrcuttChatbotStack

s3:
  knowledge_base_bucket: orcutt-chatbot-kb
  frontend_bucket: orcutt-chatbot-frontend

dynamodb:
  table_name: orcutt-conversations

bedrock:
  knowledge_base_id: ${KNOWLEDGE_BASE_ID}
  knowledge_base_name: OrcuttSchoolsKB
  embedding_model: amazon.titan-embed-text-v2:0
  chunking:
    strategy: SEMANTIC
    max_tokens: 300
    buffer_size: 0
    breakpoint_percentile_threshold: 95

opensearch:
  domain_name: orcutt
  version: "2.19"
  instance_type: t3.small.search
  instance_count: 1
  volume_size: 10
  volume_type: gp3
  index_name: orcuttindex
  vector_field: embeddings
  text_field: AMAZON_BEDROCK_TEXT_CHUNK
  metadata_field: AMAZON_BEDROCK_METADATA
  vector_dimension: 1024
  space_type: l2
  engine: FAISS

lambda:
  timeout: 300
  memory: 512
  runtime: python3.13
  webscraper:
    timeout: 900
    memory: 2048
  chatbot:
    timeout: 300
    memory: 1024

api:
  name: OrcuttChatbotAPI
  cors:
    allow_origins: ["*"]
    allow_methods: ["GET", "POST", "OPTIONS"]
    allow_headers: ["Content-Type", "Authorization"]

cloudfront:
  default_root_object: index.html
  error_responses:
    - http_status: 404
      response_http_status: 200
      response_page_path: /index.html

environments:
  dev:
    debug: true
    cors_origins: ["*"]
    s3_suffix: dev
    opensearch_suffix: dev
  prod:
    debug: false
    cors_origins: ["https://your-domain.com"]
    s3_suffix: prod
    opensearch_suffix: prod
